(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2473],{69363:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth",function(){return r(93370)}])},81124:function(e,t,r){"use strict";function n(e,t){if(!e)return null;var r=e[t];return r?Array.isArray(r)?null:r:null}r.d(t,{Z:function(){return n}})},93370:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return I}});var n,i,o=r(57135),a=r(72006),l=r(96583),u=r(74985),c=r(89888),s=r(57389),f=r(82893),d=r.n(f),p=r(27101),g=r(82568),h=r(39541),m=r(61284),x=r(85368),_=r(63837),v=r(87667),y=r(32104),b=r(59545),w=r(73194),F=r.n(w),Z=r(95245),k=(0,g.X)({headerContainer:[h.l0.height(60),h.l0.display.flex,h.l0.align.center,h.l0.px(24),h.l0.py(0),h.l0.backgroundColor.backgroundDefault,h.l0.zIndex(1)],headerLogo:[h.l0.height(40),{textDecoration:"none"}],marketingContent:(n={maxWidth:650,marginTop:60,paddingLeft:96,paddingRight:96,background:"radial-gradient(#1C2333, #0F1726)",flexBasis:"45%",display:"flex",flexDirection:"column",justifyContent:"center"},(0,s.Z)(n,h.BC.max(1250),[h.l0.display.none]),(0,s.Z)(n,h.BC.min(1600),{flexBasis:"35%"}),n),marketingList:[h.l0.colWithGap(16),h.l0.pt(32)],marketingItem:[h.l0.rowWithGap(8),h.l0.align.center],marketingBullet:[h.l0.backgroundColor.foregroundDimmer,h.l0.width(24),h.l0.height(24),h.l0.borderRadius("full"),h.l0.p(4)],marketingHeader:{color:h.TV.foregroundDefault,fontSize:"24px",fontWeight:500},marketingText:{color:h.TV.foregroundDefault,fontSize:"15px",maxWidth:"450px"},authLayoutContent:[h.l0.minHeight("100vh"),h.l0.flex.row,h.l0.justify.spaceBetween,h.l0.overflow("hidden"),(0,s.Z)({},h.BC.max(1250),[h.l0.flex.column,h.l0.justify.center])],redirectingBody:[h.l0.minHeight("100vh"),h.l0.display.flex,h.l0.flex.column,h.l0.align.center,h.l0.justify.center],signupForm:(i={flexBasis:"55%"},(0,s.Z)(i,h.BC.min(1600),{flexBasis:"65%"}),(0,s.Z)(i,"> *",[h.l0.noDragRegion]),i),signupFormNoMarketingBar:{flexBasis:"100%"},closeButtonWrapper:[h.l0.noDragRegion,h.l0.position.absolute,h.l0.top(8),h.l0.right(8)],wrapper:[h.l0.dragRegion]}),B=function(){return(0,u.tZ)("header",{css:k.headerContainer,children:(0,u.tZ)(d(),{href:"/",passHref:!0,children:(0,u.tZ)("a",{css:k.headerLogo,"aria-label":"Home",children:(0,u.tZ)(p.Bs,{})})})})},C=function(){return(0,u.BX)("div",{css:k.marketingContent,children:[(0,u.tZ)(m.xv,{css:k.marketingHeader,multiline:!1,children:"Make something great."}),(0,u.tZ)(x.G,{css:k.marketingList,children:["Build, test, and deploy directly from the browser","Collaborate in real-time with Multiplayer","Boost productivity with our AI pair programmer, Ghostwriter","Join a community of 20 million builders"].map((function(e){return(0,u.BX)(x.G,{css:k.marketingItem,children:[(0,u.tZ)(x.G,{css:k.marketingBullet,children:(0,u.tZ)(_.Z,{color:h.TV.backgroundDefault})}),(0,u.tZ)(m.xv,{css:k.marketingText,children:e})]},e.slice(3))}))})]})},E=function(){return(0,u.tZ)(x.G,{css:[k.redirectingBody],children:(0,u.tZ)(y.Z,{size:32})})},S=function(e){var t=e.children,r=(0,b.F)().privacyInvite,n=(0,Z.d)({tablet:!0});return(0,u.BX)(u.HY,{children:[(0,u.tZ)(B,{}),(0,u.BX)("main",{css:k.authLayoutContent,style:n?{marginTop:"-40px",marginBottom:"20px"}:{marginTop:"-60px",marginBottom:"0px"},children:[r?null:(0,u.tZ)(C,{}),(0,u.tZ)(x.G,{css:r?k.signupFormNoMarketingBar:k.signupForm,children:t})]})]})},q=F()((function(){return Promise.resolve(S)}),{ssr:!1}),D=function(e){var t=e.children,r=e.title,n=e.description,i=e.image,o=(0,b.F)().isRedirectingAfterSuccessfulAuth,a=(0,u.tZ)(v.Z,{title:r,description:n,image:i,noFooter:!0,noHeader:!0,hideEmailVerify:!0,noSidebar:!0,children:(0,u.tZ)(x.G,{css:k.wrapper,children:(0,u.tZ)(q,{children:t})})});return o?(0,u.tZ)(E,{}):a},M=r(41666),j=r(81124),A=r(72456),P=function(e,t){var r=e.host,n=e.protocol,i=t?(0,A.parse)(t,!0):{query:{},pathname:"/"},o=i.query,a=i.pathname;return(0,A.format)({protocol:n,host:r,pathname:a,query:o})},L=function(){return{href:"/home",as:"/~"}},$=r(90171),T=r.n($),R=r(50959),U=r(13233),z=r(625),G=r(24824),O=function(e){var t=e.goto,r=e.email,n=e.invite,i=e.randomUsername,o=e.googleClassroom,l=e.source,s=e.title,f=e.description,d=e.imageUrl,p=e.bannerMessage,g=(0,b.F)(),h=g.isLogin,m=g.isTeacher,x=g.seededState,_=(0,b.E)(),v=(0,$.useRouter)();(0,R.useEffect)((function(){var e=v.asPath.includes("/login"),a="teacher"in v.query&&"1"===v.query.teacher;_({isLogin:e,isTeacher:a,seededEmail:r,seededUsername:i,customAuthMessage:p,privacyInvite:n,isGoogleClassroom:Boolean(o),seededState:!1,isModal:!1}),p&&(null===t||void 0===t?void 0:t.startsWith("/join"))&&(0,z.j)(z.U3.SIGNUP_REQUESTED,{from:"join-invite-link"}),T().push({pathname:v.pathname},e?"/login":"/signup",{shallow:!0})}),[]),(0,R.useEffect)((function(){if(!x){var e=h?"/login":"/signup";v.asPath.includes(e)||T().push({pathname:v.pathname,query:v.query},{pathname:e},{shallow:!0})}}),[x,h]),(0,R.useEffect)((function(){if(m!=="teacher"in v.query){var e=(0,a.Z)({},v.query);delete e.teacher,m&&(e.teacher="1"),T().push({pathname:v.pathname,query:e},{pathname:"/signup",query:e},{shallow:!0})}}),[x,m]),(0,R.useEffect)((function(){if(!x){var e=v.asPath.includes("/login"),t="teacher"in v.query&&"1"===v.query.teacher;_({isLogin:e===h?h:e,isTeacher:t===m?m:t})}}),[v.asPath]);var y=(0,U.Z)(),w=y.showError,F=y.showConfirm,Z=h?"Log In":"Sign Up";return(0,u.tZ)(D,{title:s||Z,description:f,image:d,children:(0,u.tZ)(c.Z,{onSubmit:function(e){if("error"in e&&e.error)w(e.error,3e3);else{if(!("user"in e)||!e.user)throw new Error("Expected error or user object");var r=e.user.postLoginRedirectUrl;if(null!=r&&r.length>0)window.location.href=r;else{F("".concat(h?"Log in":"Signup"," Successful"),2e3),_({isRedirectingAfterSuccessfulAuth:!0});var n=h&&!e.social||e.social&&!e.newUser,i="/onboarding";t?i=P(window.location,t):m?i="/teams/free-trial":n&&((0,M.jw)(e.user.id.toString()),i=L().as),window.location.href=i}}},trackSource:l})})};O.getInitialProps=function(){var e=(0,o.Z)((function(e){var t,r,n,i,o;return(0,l.__generator)(this,(function(a){switch(a.label){case 0:return t=e.req,r=e.query,t?[3,2]:[4,(0,G.LK)("/is_authenticated")];case 1:n=a.sent(),i=n.success,o=n.user,i&&o&&T().push("/home","/~"),a.label=2;case 2:return r?[2,{goto:(0,j.Z)(r,"goto")||void 0,email:(0,j.Z)(r,"email")||void 0,invite:(0,j.Z)(r,"invite")||void 0,randomUsername:(0,j.Z)(r,"randomUsername")||void 0,googleClassroom:Boolean((0,j.Z)(r,"googleClassroom")),source:(0,j.Z)(r,"source")||(0,j.Z)(r,"utm_campaign")||void 0,title:r.title||void 0,description:r.description||void 0,imageUrl:r.imageUrl||void 0,bannerMessage:r.bannerMessage||void 0}]:[2,{}]}}))}));return function(t){return e.apply(this,arguments)}}();var I=O},11673:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,n;(0,i.default)(e),"object"===o(t)?(r=t.min||0,n=t.max):(r=arguments[1],n=arguments[2]);var a=encodeURI(e).split(/%..|./).length-1;return a>=r&&("undefined"===typeof n||a<=n)};var n,i=(n=r(65455))&&n.__esModule?n:{default:n};function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}e.exports=t.default,e.exports.default=t.default},14709:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,n.default)(e),(t=(0,i.default)(t,c)).require_display_name||t.allow_display_name){var r=e.match(s);if(r){var u=r[1];if(e=e.replace(u,"").replace(/(^<|>$)/g,""),u.endsWith(" ")&&(u=u.substr(0,u.length-1)),!function(e){var t=e.replace(/^"(.+)"$/,"$1");if(!t.trim())return!1;if(/[\.";<>]/.test(t)){if(t===e)return!1;if(!(t.split('"').length===t.split('\\"').length))return!1}return!0}(u))return!1}else if(t.require_display_name)return!1}if(!t.ignore_max_length&&e.length>254)return!1;var m=e.split("@"),x=m.pop(),_=x.toLowerCase();if(t.host_blacklist.includes(_))return!1;var v=m.join("@");if(t.domain_specific_validation&&("gmail.com"===_||"googlemail.com"===_)){var y=(v=v.toLowerCase()).split("+")[0];if(!(0,o.default)(y.replace(/\./g,""),{min:6,max:30}))return!1;for(var b=y.split("."),w=0;w<b.length;w++)if(!d.test(b[w]))return!1}if(!1===t.ignore_max_length&&(!(0,o.default)(v,{max:64})||!(0,o.default)(x,{max:254})))return!1;if(!(0,a.default)(x,{require_tld:t.require_tld})){if(!t.allow_ip_domain)return!1;if(!(0,l.default)(x)){if(!x.startsWith("[")||!x.endsWith("]"))return!1;var F=x.substr(1,x.length-2);if(0===F.length||!(0,l.default)(F))return!1}}if('"'===v[0])return v=v.slice(1,v.length-1),t.allow_utf8_local_part?h.test(v):p.test(v);for(var Z=t.allow_utf8_local_part?g:f,k=v.split("."),B=0;B<k.length;B++)if(!Z.test(k[B]))return!1;if(t.blacklisted_chars&&-1!==v.search(new RegExp("[".concat(t.blacklisted_chars,"]+"),"g")))return!1;return!0};var n=u(r(65455)),i=u(r(12614)),o=u(r(11673)),a=u(r(28327)),l=u(r(51019));function u(e){return e&&e.__esModule?e:{default:e}}var c={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[]},s=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,f=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,d=/^[a-z\d]+$/,p=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,g=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,h=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;e.exports=t.default,e.exports.default=t.default},60936:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(e),0===((t=(0,i.default)(t,a)).ignore_whitespace?e.trim().length:e.length)};var n=o(r(65455)),i=o(r(12614));function o(e){return e&&e.__esModule?e:{default:e}}var a={ignore_whitespace:!1};e.exports=t.default,e.exports.default=t.default},28327:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(e),(t=(0,i.default)(t,a)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1));!0===t.allow_wildcard&&0===e.indexOf("*.")&&(e=e.substring(2));var r=e.split("."),o=r[r.length-1];if(t.require_tld){if(r.length<2)return!1;if(!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(o))return!1;if(/\s/.test(o))return!1}if(!t.allow_numeric_tld&&/^\d+$/.test(o))return!1;return r.every((function(e){return!(e.length>63)&&(!!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(e)&&(!/[\uff01-\uff5e]/.test(e)&&(!/^-|-$/.test(e)&&!(!t.allow_underscores&&/_/.test(e)))))}))};var n=o(r(65455)),i=o(r(12614));function o(e){return e&&e.__esModule?e:{default:e}}var a={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1};e.exports=t.default,e.exports.default=t.default},51019:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,i.default)(t),!(r=String(r)))return e(t,4)||e(t,6);if("4"===r){if(!l.test(t))return!1;var n=t.split(".").sort((function(e,t){return e-t}));return n[3]<=255}if("6"===r)return!!c.test(t);return!1};var n,i=(n=r(65455))&&n.__esModule?n:{default:n};var o="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",a="(".concat(o,"[.]){3}").concat(o),l=new RegExp("^".concat(a,"$")),u="(?:[0-9a-fA-F]{1,4})",c=new RegExp("^("+"(?:".concat(u,":){7}(?:").concat(u,"|:)|")+"(?:".concat(u,":){6}(?:").concat(a,"|:").concat(u,"|:)|")+"(?:".concat(u,":){5}(?::").concat(a,"|(:").concat(u,"){1,2}|:)|")+"(?:".concat(u,":){4}(?:(:").concat(u,"){0,1}:").concat(a,"|(:").concat(u,"){1,3}|:)|")+"(?:".concat(u,":){3}(?:(:").concat(u,"){0,2}:").concat(a,"|(:").concat(u,"){1,4}|:)|")+"(?:".concat(u,":){2}(?:(:").concat(u,"){0,3}:").concat(a,"|(:").concat(u,"){1,5}|:)|")+"(?:".concat(u,":){1}(?:(:").concat(u,"){0,4}:").concat(a,"|(:").concat(u,"){1,6}|:)|")+"(?::((?::".concat(u,"){0,5}:").concat(a,"|(?::").concat(u,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");e.exports=t.default,e.exports.default=t.default},65455:function(e,t){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!("string"===typeof e||e instanceof String)){var t=r(e);throw null===e?t="null":"object"===t&&(t=e.constructor.name),new TypeError("Expected a string but received a ".concat(t))}},e.exports=t.default,e.exports.default=t.default},12614:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var r in t)"undefined"===typeof e[r]&&(e[r]=t[r]);return e},e.exports=t.default,e.exports.default=t.default},57988:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,{Z:function(){return i}})}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[7901,2550,3802,8614,898,9888,9774,2888,179],(function(){return t(54186),t(69363)}));var r=e.O();_N_E=r}]);
//# sourceMappingURL=auth-08e69a35e1c71a7f.js.map